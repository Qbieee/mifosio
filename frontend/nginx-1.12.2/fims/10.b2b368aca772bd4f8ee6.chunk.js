webpackJsonp([10],{uP7L:function(e,n,l){"use strict";function t(e){return T["\u0275vid"](0,[(e()(),T["\u0275ted"](-1,null,["\n\n"])),(e()(),T["\u0275eld"](1,0,null,null,17,"fims-layout-card-over",[],null,null,null,$.b,$.a)),T["\u0275did"](2,114688,null,0,G.a,[],{title:[0,"title"]},null),T["\u0275pid"](131072,U.a,[H.a,T.ChangeDetectorRef]),(e()(),T["\u0275ted"](-1,1,["\n  "])),(e()(),T["\u0275eld"](5,0,null,0,6,"fims-layout-card-over-header-menu",[],null,null,null,null,null)),T["\u0275did"](6,16384,null,0,G.b,[],null,null),(e()(),T["\u0275ted"](-1,null,["\n    "])),(e()(),T["\u0275eld"](8,0,null,null,2,"td-search-box",[],null,[[null,"search"]],function(e,n,l){var t=!0,o=e.component;if("search"===n){t=!1!==o.search(l)&&t}return t},X.b,X.a)),T["\u0275did"](9,49152,[["searchBox",4]],0,Q.a,[],{alwaysVisible:[0,"alwaysVisible"],placeholder:[1,"placeholder"]},{onSearch:"search"}),T["\u0275pid"](131072,U.a,[H.a,T.ChangeDetectorRef]),(e()(),T["\u0275ted"](-1,null,["\n  "])),(e()(),T["\u0275ted"](-1,1,["\n  "])),(e()(),T["\u0275eld"](13,0,null,1,4,"fims-data-table",[["flex",""]],null,[[null,"onFetch"],[null,"onActionCellClick"]],function(e,n,l){var t=!0,o=e.component;if("onFetch"===n){t=!1!==o.fetchEmployees(l)&&t}if("onActionCellClick"===n){t=!1!==o.rowSelect(l)&&t}return t},z.b,z.a)),T["\u0275did"](14,49152,null,0,ee.a,[H.a],{data:[0,"data"],columns:[1,"columns"],sortable:[2,"sortable"],pageable:[3,"pageable"],loading:[4,"loading"]},{onFetch:"onFetch",onActionCellClick:"onActionCellClick"}),T["\u0275pid"](131072,ne.b,[T.ChangeDetectorRef]),T["\u0275pid"](131072,ne.b,[T.ChangeDetectorRef]),(e()(),T["\u0275ted"](-1,null,["\n  "])),(e()(),T["\u0275ted"](-1,1,["\n"])),(e()(),T["\u0275ted"](-1,null,["\n"])),(e()(),T["\u0275eld"](20,0,null,null,4,"fims-fab-button",[["icon","add"]],null,null,null,le.b,le.a)),T["\u0275did"](21,114688,null,0,te.a,[],{title:[0,"title"],icon:[1,"icon"],link:[2,"link"],permission:[3,"permission"]},null),T["\u0275pid"](131072,U.a,[H.a,T.ChangeDetectorRef]),T["\u0275pad"](23,1),T["\u0275pod"](24,{id:0,accessLevel:1}),(e()(),T["\u0275ted"](-1,null,["\n"]))],function(e,n){var l=n.component;e(n,2,0,T["\u0275inlineInterpolate"](1,"",T["\u0275unv"](n,2,0,T["\u0275nov"](n,3).transform("Manage employees")),""));e(n,9,0,!1,T["\u0275inlineInterpolate"](1,"",T["\u0275unv"](n,9,1,T["\u0275nov"](n,10).transform("Search")),""));e(n,14,0,T["\u0275unv"](n,14,0,T["\u0275nov"](n,15).transform(l.employeeData$)),l.columns,!0,!0,T["\u0275unv"](n,14,4,T["\u0275nov"](n,16).transform(l.loading$)));e(n,21,0,T["\u0275inlineInterpolate"](1,"",T["\u0275unv"](n,21,0,T["\u0275nov"](n,22).transform("Create new employee")),""),"add",e(n,23,0,"create"),e(n,24,0,"office_employees","CHANGE"))},null)}function o(e){return T["\u0275vid"](0,[(e()(),T["\u0275eld"](0,0,null,null,1,"fims-employee",[],null,null,null,t,ae)),T["\u0275did"](1,114688,null,0,W,[Z.l,Z.a,oe.a],null,null)],function(e,n){e(n,1,0)},null)}function i(e,n){return{group:"BUSINESS",type:e,value:n,preferenceLevel:1}}function a(e){var n=[];return e.phone&&n.push(i("PHONE",e.phone)),e.mobile&&n.push(i("MOBILE",e.mobile)),e.email&&n.push(i("EMAIL",e.email)),n}function u(e){var n=e.officeForm.assignedOffice,l=a(e.contactForm);return{identifier:e.detailForm.identifier,givenName:e.detailForm.firstName,middleName:e.detailForm.middleName,surname:e.detailForm.lastName,contactDetails:l,assignedOffice:n||void 0}}function r(e){return{identifier:e.detailForm.identifier,password:e.detailForm.password,role:e.detailForm.role}}function d(e){return e.replaceReducer(pe),e}function c(e){return T["\u0275vid"](0,[(e()(),T["\u0275eld"](0,0,null,null,3,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(e,n,l){var t=!0;if("click"===n){t=!1!==T["\u0275nov"](e,2)._selectViaInteraction()&&t}if("keydown"===n){t=!1!==T["\u0275nov"](e,2)._handleKeydown(l)&&t}return t},$e.c,$e.a)),T["\u0275did"](1,16384,null,0,Ge.u,[],null,null),T["\u0275did"](2,49152,[[12,4]],0,Ge.s,[T.ElementRef,T.ChangeDetectorRef,[2,Ge.r]],{value:[0,"value"]},null),(e()(),T["\u0275ted"](3,0,["\n            ","\n          "]))],function(e,n){e(n,2,0,n.context.$implicit.identifier)},function(e,n){e(n,0,0,T["\u0275nov"](n,2)._getTabIndex(),T["\u0275nov"](n,2).selected,T["\u0275nov"](n,2).multiple,T["\u0275nov"](n,2).active,T["\u0275nov"](n,2).id,T["\u0275nov"](n,2).selected.toString(),T["\u0275nov"](n,2).disabled.toString(),T["\u0275nov"](n,2).disabled),e(n,3,0,n.context.$implicit.identifier)})}function s(e){return T["\u0275vid"](0,[(e()(),T["\u0275eld"](0,0,null,null,4,"mat-error",[["class","mat-error"],["role","alert"],["translate",""]],[[1,"id",0]],null,null,null,null)),T["\u0275did"](1,8536064,null,0,Ue.a,[H.a,T.ElementRef,T.ChangeDetectorRef],{translate:[0,"translate"]},null),T["\u0275did"](2,16384,null,0,Ge.u,[],null,null),T["\u0275did"](3,16384,[[8,4]],0,He.a,[],null,null),(e()(),T["\u0275ted"](-1,null,["Required"]))],function(e,n){e(n,1,0,"")},function(e,n){e(n,0,0,T["\u0275nov"](n,3).id)})}function m(e){return T["\u0275vid"](0,[(e()(),T["\u0275eld"](0,0,null,null,4,"mat-error",[["class","mat-error"],["role","alert"],["translate",""]],[[1,"id",0]],null,null,null,null)),T["\u0275did"](1,8536064,null,0,Ue.a,[H.a,T.ElementRef,T.ChangeDetectorRef],{translate:[0,"translate"]},null),T["\u0275did"](2,16384,null,0,Ge.u,[],null,null),T["\u0275did"](3,16384,[[17,4]],0,He.a,[],null,null),(e()(),T["\u0275ted"](-1,null,["\n            Required\n          "]))],function(e,n){e(n,1,0,"")},function(e,n){e(n,0,0,T["\u0275nov"](n,3).id)})}function p(e){return T["\u0275vid"](0,[(e()(),T["\u0275eld"](0,0,null,null,5,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),T["\u0275did"](1,16384,null,0,Ge.u,[],null,null),T["\u0275did"](2,16384,[[17,4]],0,He.a,[],null,null),(e()(),T["\u0275ted"](3,null,["\n            ","\n          "])),T["\u0275pod"](4,{value:0}),T["\u0275pid"](131072,U.a,[H.a,T.ChangeDetectorRef])],null,function(e,n){var l=n.component;e(n,0,0,T["\u0275nov"](n,2).id),e(n,3,0,T["\u0275unv"](n,3,0,T["\u0275nov"](n,5).transform("Must have at least characters.",e(n,4,0,l.detailForm.get("password").getError("minlength").requiredLength))))})}function f(e){return T["\u0275vid"](0,[(e()(),T["\u0275ted"](-1,null,["\n      "])),(e()(),T["\u0275eld"](1,0,null,null,1,"fims-form-continue-action",[],null,[[null,"onContinue"]],function(e,n,l){var t=!0;if("onContinue"===n){t=!1!==T["\u0275nov"](e.parent,102).open()&&t}return t},Ze.b,Ze.a)),T["\u0275did"](2,49152,null,0,Je.a,[],null,{onContinue:"onContinue"}),(e()(),T["\u0275ted"](-1,null,["\n    "]))],null,null)}function v(e){return T["\u0275vid"](0,[(e()(),T["\u0275ted"](-1,null,["\n      "])),(e()(),T["\u0275eld"](1,0,null,null,1,"fims-form-continue-action",[],null,[[null,"onContinue"]],function(e,n,l){var t=!0;if("onContinue"===n){t=!1!==T["\u0275nov"](e.parent,121).open()&&t}return t},Ze.b,Ze.a)),T["\u0275did"](2,49152,null,0,Je.a,[],null,{onContinue:"onContinue"}),(e()(),T["\u0275ted"](-1,null,["\n    "]))],null,null)}function h(e){return T["\u0275vid"](0,[(e()(),T["\u0275ted"](-1,null,["\n      "])),(e()(),T["\u0275eld"](1,0,null,null,2,"fims-form-final-action",[],null,[[null,"onCancel"],[null,"onSave"]],function(e,n,l){var t=!0,o=e.component;if("onCancel"===n){t=!1!==o.cancel()&&t}if("onSave"===n){t=!1!==o.save()&&t}return t},Ye.b,Ye.a)),T["\u0275did"](2,49152,null,0,Ke.a,[],{resourceName:[0,"resourceName"],editMode:[1,"editMode"],disabled:[2,"disabled"]},{onSave:"onSave",onCancel:"onCancel"}),(e()(),T["\u0275ted"](-1,null,["\n      "])),(e()(),T["\u0275ted"](-1,null,["\n    "]))],function(e,n){var l=n.component;e(n,2,0,"EMPLOYEE",l.editMode,l.formsInvalid())},null)}function y(e){return T["\u0275vid"](0,[T["\u0275qud"](402653184,1,{step:0}),(e()(),T["\u0275ted"](-1,null,["\n\n"])),(e()(),T["\u0275eld"](2,0,null,null,155,"td-steps",[["mode","'vertical'"]],null,null,null,We.b,We.a)),T["\u0275did"](3,1228800,null,1,Xe.a,[],{mode:[0,"mode"]},null),T["\u0275qud"](603979776,2,{stepsContent:1}),(e()(),T["\u0275ted"](-1,null,["\n  "])),(e()(),T["\u0275eld"](6,16777216,null,null,93,"td-step",[],null,null,null,Qe.b,Qe.a)),T["\u0275did"](7,114688,[[2,4],[1,4],["detailsStep",4]],3,ze.c,[T.ViewContainerRef],{label:[0,"label"],state:[1,"state"]},null),T["\u0275qud"](335544320,3,{stepLabel:0}),T["\u0275qud"](335544320,4,{stepActions:0}),T["\u0275qud"](335544320,5,{stepSummary:0}),T["\u0275pid"](131072,U.a,[H.a,T.ChangeDetectorRef]),(e()(),T["\u0275ted"](-1,0,["\n    "])),(e()(),T["\u0275eld"](13,0,null,0,82,"form",[["layout","column"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,n,l){var t=!0;if("submit"===n){t=!1!==T["\u0275nov"](e,15).onSubmit(l)&&t}if("reset"===n){t=!1!==T["\u0275nov"](e,15).onReset()&&t}return t},null,null)),T["\u0275did"](14,16384,null,0,en["\u0275bf"],[],null,null),T["\u0275did"](15,540672,null,0,en.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),T["\u0275prd"](2048,null,en.ControlContainer,null,[en.FormGroupDirective]),T["\u0275did"](17,16384,null,0,en.NgControlStatusGroup,[en.ControlContainer],null,null),(e()(),T["\u0275ted"](-1,null,["\n      "])),(e()(),T["\u0275eld"](19,0,null,null,1,"fims-id-input",[["controlName","identifier"],["placeholder","Username"]],[[1,"layout",0]],null,null,nn.b,nn.a)),T["\u0275did"](20,114688,null,0,ln.a,[],{controlName:[0,"controlName"],form:[1,"form"],readonly:[2,"readonly"],placeholder:[3,"placeholder"]},null),(e()(),T["\u0275ted"](-1,null,["\n      "])),(e()(),T["\u0275eld"](22,0,null,null,2,"fims-text-input",[["controlName","firstName"]],[[1,"layout",0]],null,null,tn.b,tn.a)),T["\u0275did"](23,49152,null,0,on.a,[],{placeholder:[0,"placeholder"],controlName:[1,"controlName"],form:[2,"form"]},null),T["\u0275pid"](131072,U.a,[H.a,T.ChangeDetectorRef]),(e()(),T["\u0275ted"](-1,null,["\n      "])),(e()(),T["\u0275eld"](26,0,null,null,2,"fims-text-input",[["controlName","middleName"]],[[1,"layout",0]],null,null,tn.b,tn.a)),T["\u0275did"](27,49152,null,0,on.a,[],{placeholder:[0,"placeholder"],controlName:[1,"controlName"],form:[2,"form"]},null),T["\u0275pid"](131072,U.a,[H.a,T.ChangeDetectorRef]),(e()(),T["\u0275ted"](-1,null,["\n      "])),(e()(),T["\u0275eld"](30,0,null,null,2,"fims-text-input",[["controlName","lastName"]],[[1,"layout",0]],null,null,tn.b,tn.a)),T["\u0275did"](31,49152,null,0,on.a,[],{placeholder:[0,"placeholder"],controlName:[1,"controlName"],form:[2,"form"]},null),T["\u0275pid"](131072,U.a,[H.a,T.ChangeDetectorRef]),(e()(),T["\u0275ted"](-1,null,["\n      "])),(e()(),T["\u0275eld"](34,0,null,null,29,"mat-form-field",[["class","mat-input-container mat-form-field"],["layout-margin",""]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-focused",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,an.b,an.a)),T["\u0275did"](35,16384,null,0,Ge.u,[],null,null),T["\u0275did"](36,7389184,null,6,He.b,[T.ElementRef,T.Renderer2,T.ChangeDetectorRef,[2,Ge.k]],null,null),T["\u0275qud"](335544320,6,{_control:0}),T["\u0275qud"](335544320,7,{_placeholderChild:0}),T["\u0275qud"](603979776,8,{_errorChildren:1}),T["\u0275qud"](603979776,9,{_hintChildren:1}),T["\u0275qud"](603979776,10,{_prefixChildren:1}),T["\u0275qud"](603979776,11,{_suffixChildren:1}),(e()(),T["\u0275ted"](-1,1,["\n        "])),(e()(),T["\u0275eld"](44,0,null,1,15,"mat-select",[["class","mat-select"],["formControlName","role"],["role","listbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null]],[[null,"keydown"],[null,"focus"],[null,"blur"]],function(e,n,l){var t=!0;if("keydown"===n){t=!1!==T["\u0275nov"](e,49)._handleKeydown(l)&&t}if("focus"===n){t=!1!==T["\u0275nov"](e,49)._onFocus()&&t}if("blur"===n){t=!1!==T["\u0275nov"](e,49)._onBlur()&&t}return t},un.b,un.a)),T["\u0275did"](45,671744,null,0,en.FormControlName,[[3,en.ControlContainer],[8,null],[8,null],[8,null]],{name:[0,"name"]},null),T["\u0275prd"](2048,null,en.NgControl,null,[en.FormControlName]),T["\u0275did"](47,16384,null,0,en.NgControlStatus,[en.NgControl],null,null),T["\u0275did"](48,16384,null,0,Ge.u,[],null,null),T["\u0275did"](49,1294336,null,3,rn.c,[dn.g,T.ChangeDetectorRef,T.NgZone,Ge.e,T.Renderer2,T.ElementRef,[2,cn.d],[2,en.NgForm],[2,en.FormGroupDirective],[2,He.b],[2,en.NgControl],[8,null],rn.a],{placeholder:[0,"placeholder"]},null),T["\u0275qud"](603979776,12,{options:1}),T["\u0275qud"](603979776,13,{optionGroups:1}),T["\u0275qud"](335544320,14,{customTrigger:0}),T["\u0275pid"](131072,U.a,[H.a,T.ChangeDetectorRef]),T["\u0275prd"](2048,[[6,4]],He.c,null,[rn.c]),(e()(),T["\u0275ted"](-1,1,["\n          "])),(e()(),T["\u0275and"](16777216,null,1,2,null,c)),T["\u0275did"](57,802816,null,0,ne.l,[T.ViewContainerRef,T.TemplateRef,T.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),T["\u0275pid"](131072,ne.b,[T.ChangeDetectorRef]),(e()(),T["\u0275ted"](-1,1,["\n        "])),(e()(),T["\u0275ted"](-1,1,["\n        "])),(e()(),T["\u0275and"](16777216,null,4,1,null,s)),T["\u0275did"](62,16384,null,0,ne.m,[T.ViewContainerRef,T.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),T["\u0275ted"](-1,1,["\n      "])),(e()(),T["\u0275ted"](-1,null,["\n      "])),(e()(),T["\u0275eld"](65,0,null,null,29,"div",[["layout","row"]],null,null,null,null,null)),(e()(),T["\u0275ted"](-1,null,["\n        "])),(e()(),T["\u0275eld"](67,0,null,null,26,"mat-form-field",[["class","mat-input-container mat-form-field"],["flex",""],["layout-margin",""]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-focused",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,an.b,an.a)),T["\u0275did"](68,16384,null,0,Ge.u,[],null,null),T["\u0275did"](69,7389184,null,6,He.b,[T.ElementRef,T.Renderer2,T.ChangeDetectorRef,[2,Ge.k]],null,null),T["\u0275qud"](335544320,15,{_control:0}),T["\u0275qud"](335544320,16,{_placeholderChild:0}),T["\u0275qud"](603979776,17,{_errorChildren:1}),T["\u0275qud"](603979776,18,{_hintChildren:1}),T["\u0275qud"](603979776,19,{_prefixChildren:1}),T["\u0275qud"](603979776,20,{_suffixChildren:1}),(e()(),T["\u0275ted"](-1,1,["\n          "])),(e()(),T["\u0275eld"](77,0,null,1,9,"input",[["autocomplete","new-password"],["class","mat-input-element mat-form-field-autofill-control"],["formControlName","password"],["matInput",""],["tdAutoTrim",""],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(e,n,l){var t=!0;if("input"===n){t=!1!==T["\u0275nov"](e,78)._handleInput(l.target.value)&&t}if("blur"===n){t=!1!==T["\u0275nov"](e,78).onTouched()&&t}if("compositionstart"===n){t=!1!==T["\u0275nov"](e,78)._compositionStart()&&t}if("compositionend"===n){t=!1!==T["\u0275nov"](e,78)._compositionEnd(l.target.value)&&t}if("blur"===n){t=!1!==T["\u0275nov"](e,84)._focusChanged(!1)&&t}if("focus"===n){t=!1!==T["\u0275nov"](e,84)._focusChanged(!0)&&t}if("input"===n){t=!1!==T["\u0275nov"](e,84)._onInput()&&t}return t},null,null)),T["\u0275did"](78,16384,null,0,en.DefaultValueAccessor,[T.Renderer2,T.ElementRef,[2,en.COMPOSITION_BUFFER_MODE]],null,null),T["\u0275prd"](1024,null,en.NG_VALUE_ACCESSOR,function(e){return[e]},[en.DefaultValueAccessor]),T["\u0275did"](80,671744,null,0,en.FormControlName,[[3,en.ControlContainer],[8,null],[8,null],[2,en.NG_VALUE_ACCESSOR]],{name:[0,"name"]},null),T["\u0275prd"](2048,null,en.NgControl,null,[en.FormControlName]),T["\u0275did"](82,16384,null,0,en.NgControlStatus,[en.NgControl],null,null),T["\u0275did"](83,16384,null,0,Ge.u,[],null,null),T["\u0275did"](84,933888,null,0,sn.a,[T.ElementRef,T.Renderer2,mn.a,[2,en.NgControl],[2,en.NgForm],[2,en.FormGroupDirective],Ge.e],{placeholder:[0,"placeholder"],type:[1,"type"]},null),T["\u0275pid"](131072,U.a,[H.a,T.ChangeDetectorRef]),T["\u0275prd"](2048,[[15,4]],He.c,null,[sn.a]),(e()(),T["\u0275ted"](-1,1,["\n          "])),(e()(),T["\u0275and"](16777216,null,4,1,null,m)),T["\u0275did"](89,16384,null,0,ne.m,[T.ViewContainerRef,T.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),T["\u0275ted"](-1,1,["\n          "])),(e()(),T["\u0275and"](16777216,null,4,1,null,p)),T["\u0275did"](92,16384,null,0,ne.m,[T.ViewContainerRef,T.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),T["\u0275ted"](-1,1,["\n        "])),(e()(),T["\u0275ted"](-1,null,["\n      "])),(e()(),T["\u0275ted"](-1,null,["\n    "])),(e()(),T["\u0275ted"](-1,0,["\n    "])),(e()(),T["\u0275and"](16777216,null,0,1,null,f)),T["\u0275did"](98,16384,[[4,4]],0,ze.b,[T.TemplateRef,T.ViewContainerRef],null,null),(e()(),T["\u0275ted"](-1,0,["\n  "])),(e()(),T["\u0275ted"](-1,null,["\n\n  "])),(e()(),T["\u0275eld"](101,16777216,null,null,17,"td-step",[],null,null,null,Qe.b,Qe.a)),T["\u0275did"](102,114688,[[2,4],["officeStep",4]],3,ze.c,[T.ViewContainerRef],{label:[0,"label"],state:[1,"state"]},null),T["\u0275qud"](335544320,21,{stepLabel:0}),T["\u0275qud"](335544320,22,{stepActions:0}),T["\u0275qud"](335544320,23,{stepSummary:0}),T["\u0275pid"](131072,U.a,[H.a,T.ChangeDetectorRef]),(e()(),T["\u0275ted"](-1,0,["\n\n    "])),(e()(),T["\u0275eld"](108,0,null,0,6,"fims-select-list",[["flex",""],["id","identifier"],["listIcon","store"]],null,[[null,"onSearch"],[null,"onSelectionChange"]],function(e,n,l){var t=!0,o=e.component;if("onSearch"===n){t=!1!==o.searchOffice(l)&&t}if("onSelectionChange"===n){t=!1!==o.assignOffice(l)&&t}return t},gn.b,gn.a)),T["\u0275did"](109,114688,[["officeList",4]],0,bn.a,[],{preSelection:[0,"preSelection"],listIcon:[1,"listIcon"],noResultsMessage:[2,"noResultsMessage"],noSelectionMessage:[3,"noSelectionMessage"],data:[4,"data"],id:[5,"id"],title:[6,"title"]},{onSearch:"onSearch",onSelectionChange:"onSelectionChange"}),T["\u0275pad"](110,1),T["\u0275pid"](131072,U.a,[H.a,T.ChangeDetectorRef]),T["\u0275pid"](131072,U.a,[H.a,T.ChangeDetectorRef]),T["\u0275pid"](131072,U.a,[H.a,T.ChangeDetectorRef]),(e()(),T["\u0275ted"](-1,null,["\n    "])),(e()(),T["\u0275ted"](-1,0,["\n    "])),(e()(),T["\u0275and"](16777216,null,0,1,null,v)),T["\u0275did"](117,16384,[[22,4]],0,ze.b,[T.TemplateRef,T.ViewContainerRef],null,null),(e()(),T["\u0275ted"](-1,0,["\n  "])),(e()(),T["\u0275ted"](-1,null,["\n\n  "])),(e()(),T["\u0275eld"](120,16777216,null,null,25,"td-step",[],null,null,null,Qe.b,Qe.a)),T["\u0275did"](121,114688,[[2,4],["contactStep",4]],3,ze.c,[T.ViewContainerRef],{label:[0,"label"],state:[1,"state"]},null),T["\u0275qud"](335544320,24,{stepLabel:0}),T["\u0275qud"](335544320,25,{stepActions:0}),T["\u0275qud"](335544320,26,{stepSummary:0}),T["\u0275pid"](131072,U.a,[H.a,T.ChangeDetectorRef]),(e()(),T["\u0275ted"](-1,0,["\n    "])),(e()(),T["\u0275eld"](127,0,null,0,17,"form",[["layout","column"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,n,l){var t=!0;if("submit"===n){t=!1!==T["\u0275nov"](e,129).onSubmit(l)&&t}if("reset"===n){t=!1!==T["\u0275nov"](e,129).onReset()&&t}return t},null,null)),T["\u0275did"](128,16384,null,0,en["\u0275bf"],[],null,null),T["\u0275did"](129,540672,null,0,en.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),T["\u0275prd"](2048,null,en.ControlContainer,null,[en.FormGroupDirective]),T["\u0275did"](131,16384,null,0,en.NgControlStatusGroup,[en.ControlContainer],null,null),(e()(),T["\u0275ted"](-1,null,["\n      "])),(e()(),T["\u0275eld"](133,0,null,null,2,"fims-text-input",[["controlName","email"],["type","email"]],[[1,"layout",0]],null,null,tn.b,tn.a)),T["\u0275did"](134,49152,null,0,on.a,[],{placeholder:[0,"placeholder"],controlName:[1,"controlName"],form:[2,"form"],type:[3,"type"]},null),T["\u0275pid"](131072,U.a,[H.a,T.ChangeDetectorRef]),(e()(),T["\u0275ted"](-1,null,["\n      "])),(e()(),T["\u0275eld"](137,0,null,null,2,"fims-text-input",[["controlName","phone"],["type","tel"]],[[1,"layout",0]],null,null,tn.b,tn.a)),T["\u0275did"](138,49152,null,0,on.a,[],{placeholder:[0,"placeholder"],controlName:[1,"controlName"],form:[2,"form"],type:[3,"type"]},null),T["\u0275pid"](131072,U.a,[H.a,T.ChangeDetectorRef]),(e()(),T["\u0275ted"](-1,null,["\n      "])),(e()(),T["\u0275eld"](141,0,null,null,2,"fims-text-input",[["controlName","mobile"],["type","tel"]],[[1,"layout",0]],null,null,tn.b,tn.a)),T["\u0275did"](142,49152,null,0,on.a,[],{placeholder:[0,"placeholder"],controlName:[1,"controlName"],form:[2,"form"],type:[3,"type"]},null),T["\u0275pid"](131072,U.a,[H.a,T.ChangeDetectorRef]),(e()(),T["\u0275ted"](-1,null,["\n    "])),(e()(),T["\u0275ted"](-1,0,["\n  "])),(e()(),T["\u0275ted"](-1,null,["\n\n  "])),(e()(),T["\u0275eld"](147,16777216,null,null,9,"td-step",[],null,null,null,Qe.b,Qe.a)),T["\u0275did"](148,114688,[[2,4]],3,ze.c,[T.ViewContainerRef],{label:[0,"label"],state:[1,"state"]},null),T["\u0275qud"](335544320,27,{stepLabel:0}),T["\u0275qud"](335544320,28,{stepActions:0}),T["\u0275qud"](335544320,29,{stepSummary:0}),T["\u0275pid"](131072,U.a,[H.a,T.ChangeDetectorRef]),(e()(),T["\u0275ted"](-1,0,["\n    "])),(e()(),T["\u0275and"](16777216,null,0,1,null,h)),T["\u0275did"](155,16384,[[29,4]],0,ze.e,[T.TemplateRef,T.ViewContainerRef],null,null),(e()(),T["\u0275ted"](-1,0,["\n  "])),(e()(),T["\u0275ted"](-1,null,["\n\n"])),(e()(),T["\u0275ted"](-1,null,["\n"]))],function(e,n){var l=n.component;e(n,3,0,"'vertical'"),e(n,7,0,T["\u0275inlineInterpolate"](1,"",T["\u0275unv"](n,7,0,T["\u0275nov"](n,11).transform("Employee details")),""),l.detailForm.valid?"complete":l.detailForm.pristine?"none":"required"),e(n,15,0,l.detailForm);e(n,20,0,"identifier",l.detailForm,l.editMode,"Username");e(n,23,0,T["\u0275inlineInterpolate"](1,"",T["\u0275unv"](n,23,0,T["\u0275nov"](n,24).transform("First name")),""),"firstName",l.detailForm);e(n,27,0,T["\u0275inlineInterpolate"](1,"",T["\u0275unv"](n,27,0,T["\u0275nov"](n,28).transform("Middle name(optional)")),""),"middleName",l.detailForm);e(n,31,0,T["\u0275inlineInterpolate"](1,"",T["\u0275unv"](n,31,0,T["\u0275nov"](n,32).transform("Last name")),""),"lastName",l.detailForm);e(n,45,0,"role"),e(n,49,0,T["\u0275inlineInterpolate"](1,"",T["\u0275unv"](n,49,0,T["\u0275nov"](n,53).transform("Role")),"")),e(n,57,0,T["\u0275unv"](n,57,0,T["\u0275nov"](n,58).transform(l.roles))),e(n,62,0,l.detailForm.get("role").hasError("required"));e(n,80,0,"password");e(n,84,0,T["\u0275inlineInterpolate"](1,"",T["\u0275unv"](n,84,0,T["\u0275nov"](n,85).transform("Password")),""),"password"),e(n,89,0,l.detailForm.get("password").hasError("required")),e(n,92,0,l.detailForm.get("password").hasError("minlength")),e(n,102,0,T["\u0275inlineInterpolate"](1,"",T["\u0275unv"](n,102,0,T["\u0275nov"](n,106).transform("Assign employee to office(optional)")),""),l.officeForm.get("assignedOffice").value?"complete":"none");e(n,109,0,l.officeForm.get("assignedOffice").value?e(n,110,0,l.officeForm.get("assignedOffice").value):T["\u0275EMPTY_ARRAY"],"store",T["\u0275inlineInterpolate"](1,"",T["\u0275unv"](n,109,2,T["\u0275nov"](n,111).transform("No office was found.")),""),T["\u0275inlineInterpolate"](1,"",T["\u0275unv"](n,109,3,T["\u0275nov"](n,112).transform("No office assigned to employee, yet.")),""),l.offices,"identifier",T["\u0275inlineInterpolate"](1,"",T["\u0275unv"](n,109,6,T["\u0275nov"](n,113).transform("Assigned Office")),"")),e(n,121,0,T["\u0275inlineInterpolate"](1,"",T["\u0275unv"](n,121,0,T["\u0275nov"](n,125).transform("Employee contact(optional)")),""),l.contactForm.valid&&!l.contactForm.pristine?"complete":l.contactForm.pristine?"none":"required"),e(n,129,0,l.contactForm);e(n,134,0,T["\u0275inlineInterpolate"](1,"",T["\u0275unv"](n,134,0,T["\u0275nov"](n,135).transform("Email(optional)")),""),"email",l.contactForm,"email");e(n,138,0,T["\u0275inlineInterpolate"](1,"",T["\u0275unv"](n,138,0,T["\u0275nov"](n,139).transform("Phone(optional)")),""),"phone",l.contactForm,"tel");e(n,142,0,T["\u0275inlineInterpolate"](1,"",T["\u0275unv"](n,142,0,T["\u0275nov"](n,143).transform("Mobile(optional)")),""),"mobile",l.contactForm,"tel");e(n,148,0,T["\u0275inlineInterpolate"](1,"",T["\u0275unv"](n,148,0,T["\u0275nov"](n,152).transform("Final step")),""),"complete")},function(e,n){e(n,13,0,T["\u0275nov"](n,17).ngClassUntouched,T["\u0275nov"](n,17).ngClassTouched,T["\u0275nov"](n,17).ngClassPristine,T["\u0275nov"](n,17).ngClassDirty,T["\u0275nov"](n,17).ngClassValid,T["\u0275nov"](n,17).ngClassInvalid,T["\u0275nov"](n,17).ngClassPending),e(n,19,0,T["\u0275nov"](n,20).layout),e(n,22,0,T["\u0275nov"](n,23).layout),e(n,26,0,T["\u0275nov"](n,27).layout),e(n,30,0,T["\u0275nov"](n,31).layout),e(n,34,1,[T["\u0275nov"](n,36)._control.errorState,T["\u0275nov"](n,36)._control.errorState,T["\u0275nov"](n,36)._canPlaceholderFloat,T["\u0275nov"](n,36)._control.shouldPlaceholderFloat||T["\u0275nov"](n,36)._shouldAlwaysFloat,T["\u0275nov"](n,36)._control.focused,"primary"==T["\u0275nov"](n,36).color,"accent"==T["\u0275nov"](n,36).color,"warn"==T["\u0275nov"](n,36).color,T["\u0275nov"](n,36)._shouldForward("untouched"),T["\u0275nov"](n,36)._shouldForward("touched"),T["\u0275nov"](n,36)._shouldForward("pristine"),T["\u0275nov"](n,36)._shouldForward("dirty"),T["\u0275nov"](n,36)._shouldForward("valid"),T["\u0275nov"](n,36)._shouldForward("invalid"),T["\u0275nov"](n,36)._shouldForward("pending")]),e(n,44,1,[T["\u0275nov"](n,47).ngClassUntouched,T["\u0275nov"](n,47).ngClassTouched,T["\u0275nov"](n,47).ngClassPristine,T["\u0275nov"](n,47).ngClassDirty,T["\u0275nov"](n,47).ngClassValid,T["\u0275nov"](n,47).ngClassInvalid,T["\u0275nov"](n,47).ngClassPending,T["\u0275nov"](n,49).id,T["\u0275nov"](n,49).tabIndex,T["\u0275nov"](n,49)._ariaLabel,T["\u0275nov"](n,49).ariaLabelledby,T["\u0275nov"](n,49).required.toString(),T["\u0275nov"](n,49).disabled.toString(),T["\u0275nov"](n,49).errorState,T["\u0275nov"](n,49)._optionIds,T["\u0275nov"](n,49).multiple,T["\u0275nov"](n,49)._ariaDescribedby||null,T["\u0275nov"](n,49)._getAriaActiveDescendant(),T["\u0275nov"](n,49).disabled,T["\u0275nov"](n,49).errorState,T["\u0275nov"](n,49).required]),e(n,67,1,[T["\u0275nov"](n,69)._control.errorState,T["\u0275nov"](n,69)._control.errorState,T["\u0275nov"](n,69)._canPlaceholderFloat,T["\u0275nov"](n,69)._control.shouldPlaceholderFloat||T["\u0275nov"](n,69)._shouldAlwaysFloat,T["\u0275nov"](n,69)._control.focused,"primary"==T["\u0275nov"](n,69).color,"accent"==T["\u0275nov"](n,69).color,"warn"==T["\u0275nov"](n,69).color,T["\u0275nov"](n,69)._shouldForward("untouched"),T["\u0275nov"](n,69)._shouldForward("touched"),T["\u0275nov"](n,69)._shouldForward("pristine"),T["\u0275nov"](n,69)._shouldForward("dirty"),T["\u0275nov"](n,69)._shouldForward("valid"),T["\u0275nov"](n,69)._shouldForward("invalid"),T["\u0275nov"](n,69)._shouldForward("pending")]),e(n,77,1,[T["\u0275nov"](n,82).ngClassUntouched,T["\u0275nov"](n,82).ngClassTouched,T["\u0275nov"](n,82).ngClassPristine,T["\u0275nov"](n,82).ngClassDirty,T["\u0275nov"](n,82).ngClassValid,T["\u0275nov"](n,82).ngClassInvalid,T["\u0275nov"](n,82).ngClassPending,T["\u0275nov"](n,84).id,T["\u0275nov"](n,84).placeholder,T["\u0275nov"](n,84).disabled,T["\u0275nov"](n,84).required,T["\u0275nov"](n,84).readonly,T["\u0275nov"](n,84)._ariaDescribedby||null,T["\u0275nov"](n,84).errorState]),e(n,127,0,T["\u0275nov"](n,131).ngClassUntouched,T["\u0275nov"](n,131).ngClassTouched,T["\u0275nov"](n,131).ngClassPristine,T["\u0275nov"](n,131).ngClassDirty,T["\u0275nov"](n,131).ngClassValid,T["\u0275nov"](n,131).ngClassInvalid,T["\u0275nov"](n,131).ngClassPending),e(n,133,0,T["\u0275nov"](n,134).layout),e(n,137,0,T["\u0275nov"](n,138).layout),e(n,141,0,T["\u0275nov"](n,142).layout)})}function g(e){return T["\u0275vid"](0,[(e()(),T["\u0275eld"](0,0,null,null,1,"fims-employee-form-component",[],null,null,null,y,Rn)),T["\u0275did"](1,114688,null,0,yn,[en.FormBuilder,oe.a],null,null)],function(e,n){e(n,1,0)},null)}function b(e){return T["\u0275vid"](0,[T["\u0275qud"](402653184,1,{formComponent:0}),(e()(),T["\u0275ted"](-1,null,["\n\n"])),(e()(),T["\u0275eld"](2,0,null,null,7,"fims-layout-card-over",[],null,null,null,$.b,$.a)),T["\u0275did"](3,114688,null,0,G.a,[],{title:[0,"title"]},null),T["\u0275pid"](131072,U.a,[H.a,T.ChangeDetectorRef]),(e()(),T["\u0275ted"](-1,1,["\n  "])),(e()(),T["\u0275eld"](6,0,null,1,2,"fims-employee-form-component",[],null,[[null,"onSave"],[null,"onCancel"]],function(e,n,l){var t=!0,o=e.component;if("onSave"===n){t=!1!==o.onSave(l)&&t}if("onCancel"===n){t=!1!==o.onCancel()&&t}return t},y,Rn)),T["\u0275did"](7,114688,[[1,4],["form",4]],0,yn,[en.FormBuilder,oe.a],{formData:[0,"formData"]},{onSave:"onSave",onCancel:"onCancel"}),(e()(),T["\u0275ted"](-1,null,["\n  "])),(e()(),T["\u0275ted"](-1,1,["\n"])),(e()(),T["\u0275ted"](-1,null,["\n"]))],function(e,n){var l=n.component;e(n,3,0,T["\u0275inlineInterpolate"](1,"",T["\u0275unv"](n,3,0,T["\u0275nov"](n,4).transform("Create new employee")),"")),e(n,7,0,l.employeeFormData)},null)}function C(e){return T["\u0275vid"](0,[(e()(),T["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,b,Fn)),T["\u0275did"](1,245760,null,0,Be,[Z.l,Z.a,be],null,null)],function(e,n){e(n,1,0)},null)}function R(e){return T["\u0275vid"](0,[T["\u0275qud"](402653184,1,{formComponent:0}),(e()(),T["\u0275ted"](-1,null,["\n\n"])),(e()(),T["\u0275eld"](2,0,null,null,8,"fims-layout-card-over",[],null,null,null,$.b,$.a)),T["\u0275did"](3,114688,null,0,G.a,[],{title:[0,"title"]},null),T["\u0275pid"](131072,U.a,[H.a,T.ChangeDetectorRef]),(e()(),T["\u0275ted"](-1,1,["\n  "])),(e()(),T["\u0275eld"](6,0,null,1,3,"fims-employee-form-component",[],null,[[null,"onSave"],[null,"onCancel"]],function(e,n,l){var t=!0,o=e.component;if("onSave"===n){t=!1!==o.onSave(l)&&t}if("onCancel"===n){t=!1!==o.onCancel()&&t}return t},y,Rn)),T["\u0275did"](7,114688,[[1,4],["form",4]],0,yn,[en.FormBuilder,oe.a],{editMode:[0,"editMode"],formData:[1,"formData"]},{onSave:"onSave",onCancel:"onCancel"}),T["\u0275pid"](131072,ne.b,[T.ChangeDetectorRef]),(e()(),T["\u0275ted"](-1,null,["\n  "])),(e()(),T["\u0275ted"](-1,1,["\n"])),(e()(),T["\u0275ted"](-1,null,["\n"]))],function(e,n){var l=n.component;e(n,3,0,T["\u0275inlineInterpolate"](1,"",T["\u0275unv"](n,3,0,T["\u0275nov"](n,4).transform("Edit employee")),""));e(n,7,0,!0,T["\u0275unv"](n,7,1,T["\u0275nov"](n,8).transform(l.formData)))},null)}function E(e){return T["\u0275vid"](0,[(e()(),T["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,R,Dn)),T["\u0275did"](1,114688,null,0,wn,[Z.l,Z.a,be],null,null)],function(e,n){e(n,1,0)},null)}function F(e){return T["\u0275vid"](0,[(e()(),T["\u0275eld"](0,0,null,null,8,"button",[["class","mat-icon-button"],["mat-icon-button",""]],[[8,"title",0],[8,"disabled",0]],[[null,"click"]],function(e,n,l){var t=!0,o=e.component;if("click"===n){t=!1!==o.deleteEmployee()&&t}return t},In.d,In.b)),T["\u0275did"](1,16384,null,0,Ge.u,[],null,null),T["\u0275did"](2,180224,null,0,jn.b,[T.Renderer2,T.ElementRef,mn.a,qn.i],null,null),T["\u0275did"](3,16384,null,0,jn.f,[],null,null),T["\u0275pid"](131072,U.a,[H.a,T.ChangeDetectorRef]),(e()(),T["\u0275eld"](5,0,null,0,3,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,Tn.b,Tn.a)),T["\u0275did"](6,16384,null,0,Ge.u,[],null,null),T["\u0275did"](7,638976,null,0,Ln.b,[T.Renderer2,T.ElementRef,Ln.d,[8,null]],null,null),(e()(),T["\u0275ted"](-1,0,["delete"]))],function(e,n){e(n,7,0)},function(e,n){e(n,0,0,T["\u0275inlineInterpolate"](1,"",T["\u0275unv"](n,0,0,T["\u0275nov"](n,4).transform("Delete this employee")),""),T["\u0275nov"](n,2).disabled||null)})}function S(e){return T["\u0275vid"](0,[(e()(),T["\u0275eld"](0,0,null,null,3,"h3",[["class","mat-line"],["matLine",""]],null,null,null,null,null)),T["\u0275did"](1,16384,null,0,Ge.u,[],null,null),T["\u0275did"](2,16384,[[1,4]],0,Ge.n,[],null,null),(e()(),T["\u0275ted"](3,null,["",""]))],null,function(e,n){e(n,3,0,n.component.employee.assignedOffice)})}function O(e){return T["\u0275vid"](0,[(e()(),T["\u0275eld"](0,0,null,null,4,"h3",[["class","mat-line"],["matLine",""],["translate",""]],null,null,null,null,null)),T["\u0275did"](1,8536064,null,0,Ue.a,[H.a,T.ElementRef,T.ChangeDetectorRef],{translate:[0,"translate"]},null),T["\u0275did"](2,16384,null,0,Ge.u,[],null,null),T["\u0275did"](3,16384,[[1,4]],0,Ge.n,[],null,null),(e()(),T["\u0275ted"](-1,null,["No office assigned"]))],function(e,n){e(n,1,0,"")},null)}function w(e){return T["\u0275vid"](0,[(e()(),T["\u0275eld"](0,0,null,null,4,"mat-icon",[["class","mat-icon mat-list-avatar"],["matListAvatar",""],["role","img"]],null,null,null,Tn.b,Tn.a)),T["\u0275did"](1,16384,null,0,Ge.u,[],null,null),T["\u0275did"](2,638976,null,0,Ln.b,[T.Renderer2,T.ElementRef,Ln.d,[8,null]],null,null),T["\u0275did"](3,16384,[[6,4]],0,An.c,[],null,null),(e()(),T["\u0275ted"](-1,0,["email"]))],function(e,n){e(n,2,0)},null)}function _(e){return T["\u0275vid"](0,[(e()(),T["\u0275eld"](0,0,null,null,4,"mat-icon",[["class","mat-icon mat-list-avatar"],["matListAvatar",""],["role","img"]],null,null,null,Tn.b,Tn.a)),T["\u0275did"](1,16384,null,0,Ge.u,[],null,null),T["\u0275did"](2,638976,null,0,Ln.b,[T.Renderer2,T.ElementRef,Ln.d,[8,null]],null,null),T["\u0275did"](3,16384,[[6,4]],0,An.c,[],null,null),(e()(),T["\u0275ted"](-1,0,["phone"]))],function(e,n){e(n,2,0)},null)}function D(e){return T["\u0275vid"](0,[(e()(),T["\u0275eld"](0,0,null,null,4,"mat-icon",[["class","mat-icon mat-list-avatar"],["matListAvatar",""],["role","img"]],null,null,null,Tn.b,Tn.a)),T["\u0275did"](1,16384,null,0,Ge.u,[],null,null),T["\u0275did"](2,638976,null,0,Ln.b,[T.Renderer2,T.ElementRef,Ln.d,[8,null]],null,null),T["\u0275did"](3,16384,[[6,4]],0,An.c,[],null,null),(e()(),T["\u0275ted"](-1,0,["smartphone"]))],function(e,n){e(n,2,0)},null)}function N(e){return T["\u0275vid"](0,[(e()(),T["\u0275eld"](0,0,null,null,20,"mat-list-item",[["class","mat-list-item"],["role","listitem"]],null,[[null,"focus"],[null,"blur"]],function(e,n,l){var t=!0;if("focus"===n){t=!1!==T["\u0275nov"](e,3)._handleFocus()&&t}if("blur"===n){t=!1!==T["\u0275nov"](e,3)._handleBlur()&&t}return t},Pn.c,Pn.b)),T["\u0275did"](1,16384,null,0,ne.q,[],{ngSwitch:[0,"ngSwitch"]},null),T["\u0275did"](2,16384,null,0,Ge.u,[],null,null),T["\u0275did"](3,1097728,null,2,An.g,[T.Renderer2,T.ElementRef,[2,An.b],[2,An.k]],null,null),T["\u0275qud"](603979776,5,{_lines:1}),T["\u0275qud"](603979776,6,{_hasAvatar:0}),(e()(),T["\u0275ted"](-1,2,["\n      "])),(e()(),T["\u0275and"](16777216,null,0,1,null,w)),T["\u0275did"](8,278528,null,0,ne.r,[T.ViewContainerRef,T.TemplateRef,ne.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),T["\u0275ted"](-1,2,["\n      "])),(e()(),T["\u0275and"](16777216,null,0,1,null,_)),T["\u0275did"](11,278528,null,0,ne.r,[T.ViewContainerRef,T.TemplateRef,ne.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),T["\u0275ted"](-1,2,["\n      "])),(e()(),T["\u0275and"](16777216,null,0,1,null,D)),T["\u0275did"](14,278528,null,0,ne.r,[T.ViewContainerRef,T.TemplateRef,ne.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),T["\u0275ted"](-1,2,["\n      "])),(e()(),T["\u0275eld"](16,0,null,1,3,"h3",[["class","mat-line"],["matLine",""]],null,null,null,null,null)),T["\u0275did"](17,16384,null,0,Ge.u,[],null,null),T["\u0275did"](18,16384,[[5,4]],0,Ge.n,[],null,null),(e()(),T["\u0275ted"](19,null,["",""])),(e()(),T["\u0275ted"](-1,2,["\n    "]))],function(e,n){e(n,1,0,n.context.$implicit.type);e(n,8,0,"EMAIL");e(n,11,0,"PHONE");e(n,14,0,"MOBILE")},function(e,n){e(n,19,0,n.context.$implicit.value)})}function I(e){return T["\u0275vid"](0,[(e()(),T["\u0275eld"](0,0,null,null,11,"mat-list-item",[["class","mat-list-item"],["role","listitem"]],null,[[null,"focus"],[null,"blur"]],function(e,n,l){var t=!0;if("focus"===n){t=!1!==T["\u0275nov"](e,2)._handleFocus()&&t}if("blur"===n){t=!1!==T["\u0275nov"](e,2)._handleBlur()&&t}return t},Pn.c,Pn.b)),T["\u0275did"](1,16384,null,0,Ge.u,[],null,null),T["\u0275did"](2,1097728,null,2,An.g,[T.Renderer2,T.ElementRef,[2,An.b],[2,An.k]],null,null),T["\u0275qud"](603979776,7,{_lines:1}),T["\u0275qud"](335544320,8,{_hasAvatar:0}),(e()(),T["\u0275ted"](-1,2,["\n      "])),(e()(),T["\u0275eld"](6,0,null,1,4,"h3",[["class","mat-line"],["matLine",""],["translate",""]],null,null,null,null,null)),T["\u0275did"](7,8536064,null,0,Ue.a,[H.a,T.ElementRef,T.ChangeDetectorRef],{translate:[0,"translate"]},null),T["\u0275did"](8,16384,null,0,Ge.u,[],null,null),T["\u0275did"](9,16384,[[7,4]],0,Ge.n,[],null,null),(e()(),T["\u0275ted"](-1,null,["No contact details available"])),(e()(),T["\u0275ted"](-1,2,["\n    "]))],function(e,n){e(n,7,0,"")},null)}function j(e){return T["\u0275vid"](0,[(e()(),T["\u0275ted"](-1,null,["\n\n"])),(e()(),T["\u0275eld"](1,0,null,null,78,"fims-layout-card-over",[],null,null,null,$.b,$.a)),T["\u0275did"](2,114688,null,0,G.a,[],{title:[0,"title"],navigateBackTo:[1,"navigateBackTo"]},null),(e()(),T["\u0275ted"](-1,1,["\n  "])),(e()(),T["\u0275eld"](4,0,null,0,10,"fims-layout-card-over-header-menu",[["layout","row"],["layout-align","end center"]],null,null,null,null,null)),T["\u0275did"](5,16384,null,0,G.b,[],null,null),(e()(),T["\u0275ted"](-1,null,["\n    "])),(e()(),T["\u0275eld"](7,0,null,null,2,"td-search-box",[],null,[[null,"search"]],function(e,n,l){var t=!0,o=e.component;if("search"===n){t=!1!==o.searchEmployee(l)&&t}return t},X.b,X.a)),T["\u0275did"](8,49152,null,0,Q.a,[],{alwaysVisible:[0,"alwaysVisible"],placeholder:[1,"placeholder"]},{onSearch:"search"}),T["\u0275pid"](131072,U.a,[H.a,T.ChangeDetectorRef]),(e()(),T["\u0275ted"](-1,null,["\n    "])),(e()(),T["\u0275and"](16777216,null,null,2,null,F)),T["\u0275did"](12,212992,null,0,xn.a,[oe.a,T.ViewContainerRef,T.TemplateRef],{hasPermission:[0,"hasPermission"]},null),T["\u0275pod"](13,{id:0,accessLevel:1}),(e()(),T["\u0275ted"](-1,null,["\n  "])),(e()(),T["\u0275ted"](-1,1,["\n  "])),(e()(),T["\u0275eld"](16,0,null,1,62,"mat-list",[["class","mat-list"],["role","list"]],null,null,null,Pn.d,Pn.a)),T["\u0275did"](17,16384,null,0,Ge.u,[],null,null),T["\u0275did"](18,49152,null,0,An.b,[],null,null),T["\u0275did"](19,16384,null,0,An.d,[],null,null),(e()(),T["\u0275ted"](-1,0,["\n    "])),(e()(),T["\u0275eld"](21,0,null,0,3,"h3",[["class","mat-subheader"],["mat-subheader",""],["translate",""]],null,null,null,null,null)),T["\u0275did"](22,8536064,null,0,Ue.a,[H.a,T.ElementRef,T.ChangeDetectorRef],{translate:[0,"translate"]},null),T["\u0275did"](23,16384,null,0,An.j,[],null,null),(e()(),T["\u0275ted"](-1,null,["Assigned office"])),(e()(),T["\u0275ted"](-1,0,["\n    "])),(e()(),T["\u0275eld"](26,0,null,0,17,"mat-list-item",[["class","mat-list-item"],["role","listitem"]],null,[[null,"focus"],[null,"blur"]],function(e,n,l){var t=!0;if("focus"===n){t=!1!==T["\u0275nov"](e,28)._handleFocus()&&t}if("blur"===n){t=!1!==T["\u0275nov"](e,28)._handleBlur()&&t}return t},Pn.c,Pn.b)),T["\u0275did"](27,16384,null,0,Ge.u,[],null,null),T["\u0275did"](28,1097728,null,2,An.g,[T.Renderer2,T.ElementRef,[2,An.b],[2,An.k]],null,null),T["\u0275qud"](603979776,1,{_lines:1}),T["\u0275qud"](335544320,2,{_hasAvatar:0}),(e()(),T["\u0275ted"](-1,2,["\n      "])),(e()(),T["\u0275eld"](32,0,null,0,4,"mat-icon",[["class","mat-icon mat-list-avatar"],["matListAvatar",""],["role","img"]],null,null,null,Tn.b,Tn.a)),T["\u0275did"](33,16384,null,0,Ge.u,[],null,null),T["\u0275did"](34,638976,null,0,Ln.b,[T.Renderer2,T.ElementRef,Ln.d,[8,null]],null,null),T["\u0275did"](35,16384,[[2,4]],0,An.c,[],null,null),(e()(),T["\u0275ted"](-1,0,["store"])),(e()(),T["\u0275ted"](-1,2,["\n      "])),(e()(),T["\u0275and"](16777216,null,1,1,null,S)),T["\u0275did"](39,16384,null,0,ne.m,[T.ViewContainerRef,T.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),T["\u0275ted"](-1,2,["\n      "])),(e()(),T["\u0275and"](16777216,null,1,1,null,O)),T["\u0275did"](42,16384,null,0,ne.m,[T.ViewContainerRef,T.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),T["\u0275ted"](-1,2,["\n    "])),(e()(),T["\u0275ted"](-1,0,["\n    "])),(e()(),T["\u0275eld"](45,0,null,0,3,"h3",[["class","mat-subheader"],["mat-subheader",""],["translate",""]],null,null,null,null,null)),T["\u0275did"](46,8536064,null,0,Ue.a,[H.a,T.ElementRef,T.ChangeDetectorRef],{translate:[0,"translate"]},null),T["\u0275did"](47,16384,null,0,An.j,[],null,null),(e()(),T["\u0275ted"](-1,null,["Assigned role"])),(e()(),T["\u0275ted"](-1,0,["\n    "])),(e()(),T["\u0275eld"](50,0,null,0,16,"mat-list-item",[["class","mat-list-item"],["role","listitem"]],null,[[null,"focus"],[null,"blur"]],function(e,n,l){var t=!0;if("focus"===n){t=!1!==T["\u0275nov"](e,52)._handleFocus()&&t}if("blur"===n){t=!1!==T["\u0275nov"](e,52)._handleBlur()&&t}return t},Pn.c,Pn.b)),T["\u0275did"](51,16384,null,0,Ge.u,[],null,null),T["\u0275did"](52,1097728,null,2,An.g,[T.Renderer2,T.ElementRef,[2,An.b],[2,An.k]],null,null),T["\u0275qud"](603979776,3,{_lines:1}),T["\u0275qud"](335544320,4,{_hasAvatar:0}),(e()(),T["\u0275ted"](-1,2,["\n      "])),(e()(),T["\u0275eld"](56,0,null,0,4,"mat-icon",[["class","mat-icon mat-list-avatar"],["matListAvatar",""],["role","img"]],null,null,null,Tn.b,Tn.a)),T["\u0275did"](57,16384,null,0,Ge.u,[],null,null),T["\u0275did"](58,638976,null,0,Ln.b,[T.Renderer2,T.ElementRef,Ln.d,[8,null]],null,null),T["\u0275did"](59,16384,[[4,4]],0,An.c,[],null,null),(e()(),T["\u0275ted"](-1,0,["lock"])),(e()(),T["\u0275ted"](-1,2,["\n      "])),(e()(),T["\u0275eld"](62,0,null,1,3,"h3",[["class","mat-line"],["matLine",""]],null,null,null,null,null)),T["\u0275did"](63,16384,null,0,Ge.u,[],null,null),T["\u0275did"](64,16384,[[3,4]],0,Ge.n,[],null,null),(e()(),T["\u0275ted"](65,null,["",""])),(e()(),T["\u0275ted"](-1,2,["\n    "])),(e()(),T["\u0275ted"](-1,0,["\n    "])),(e()(),T["\u0275eld"](68,0,null,0,3,"h3",[["class","mat-subheader"],["mat-subheader",""],["translate",""]],null,null,null,null,null)),T["\u0275did"](69,8536064,null,0,Ue.a,[H.a,T.ElementRef,T.ChangeDetectorRef],{translate:[0,"translate"]},null),T["\u0275did"](70,16384,null,0,An.j,[],null,null),(e()(),T["\u0275ted"](-1,null,["Contact Information"])),(e()(),T["\u0275ted"](-1,0,["\n    "])),(e()(),T["\u0275and"](16777216,null,0,1,null,N)),T["\u0275did"](74,802816,null,0,ne.l,[T.ViewContainerRef,T.TemplateRef,T.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),T["\u0275ted"](-1,0,["\n    "])),(e()(),T["\u0275and"](16777216,null,0,1,null,I)),T["\u0275did"](77,16384,null,0,ne.m,[T.ViewContainerRef,T.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),T["\u0275ted"](-1,0,["\n  "])),(e()(),T["\u0275ted"](-1,1,["\n"])),(e()(),T["\u0275ted"](-1,null,["\n"])),(e()(),T["\u0275eld"](81,0,null,null,4,"fims-fab-button",[["icon","mode_edit"]],null,null,null,le.b,le.a)),T["\u0275did"](82,114688,null,0,te.a,[],{title:[0,"title"],icon:[1,"icon"],link:[2,"link"],permission:[3,"permission"]},null),T["\u0275pid"](131072,U.a,[H.a,T.ChangeDetectorRef]),T["\u0275pad"](84,1),T["\u0275pod"](85,{id:0,accessLevel:1}),(e()(),T["\u0275ted"](-1,null,["\n"]))],function(e,n){var l=n.component;e(n,2,0,T["\u0275inlineInterpolate"](2,"",l.employee.givenName," ",l.employee.surname,""),"/employees");e(n,8,0,!1,T["\u0275inlineInterpolate"](1,"",T["\u0275unv"](n,8,1,T["\u0275nov"](n,9).transform("Search")),"")),e(n,12,0,e(n,13,0,"office_employees","DELETE"));e(n,22,0,""),e(n,34,0),e(n,39,0,l.employee.assignedOffice),e(n,42,0,!l.employee.assignedOffice);e(n,46,0,""),e(n,58,0);e(n,69,0,""),e(n,74,0,l.employee.contactDetails),e(n,77,0,!l.employee.contactDetails.length);e(n,82,0,T["\u0275inlineInterpolate"](1,"",T["\u0275unv"](n,82,0,T["\u0275nov"](n,83).transform("Edit member ")),""),"mode_edit",e(n,84,0,"edit"),e(n,85,0,"office_employees","CHANGE"))},function(e,n){e(n,65,0,n.component.user.role)})}function q(e){return T["\u0275vid"](0,[(e()(),T["\u0275eld"](0,0,null,null,1,"fims-employee-detail",[],null,null,null,j,$n)),T["\u0275did"](1,245760,null,0,Mn,[Z.a,Z.l,kn.c,be],null,null)],function(e,n){e(n,1,0)},null)}Object.defineProperty(n,"__esModule",{value:!0});var T=l("/oeL"),L=function(){function e(){}return e}(),A=l("O00e"),P=l("kJcM"),V=l("pL69"),M=l("U2xV"),x=l("JLw5"),k=l("8HKE"),B=l("oXA4"),$=l("iXEs"),G=l("/Ral"),U=l("D3O6"),H=l("WDs4"),Z=l("BkNc"),J=l("JgC9"),Y=l("KN1q"),K=l("Ak8x"),W=function(){function e(e,n,l){this.router=e,this.route=n,this.store=l,this.columns=[{name:"identifier",label:"Id"},{name:"givenName",label:"First Name"},{name:"surname",label:"Last Name"}],this.lastFetchRequest={}}return e.prototype.ngOnInit=function(){var e=this;this.employeeData$=this.store.select(Y.k).map(function(e){return{data:e.employees,totalElements:e.totalElements,totalPages:e.totalPages}}),this.loading$=this.store.select(Y.j),this.route.queryParams.subscribe(function(n){e.search(n.term)})},e.prototype.search=function(e){this.searchTerm=e,this.fetchEmployees()},e.prototype.rowSelect=function(e){this.router.navigate(["detail",e.identifier],{relativeTo:this.route})},e.prototype.fetchEmployees=function(e){e&&(this.lastFetchRequest=e),this.lastFetchRequest.searchTerm=this.searchTerm,this.store.dispatch({type:K.a,payload:this.lastFetchRequest})},e.ctorParameters=function(){return[{type:Z.l},{type:Z.a},{type:J.b}]},e}(),X=l("Skqx"),Q=l("Vovp"),z=l("Y1iR"),ee=l("Q2UQ"),ne=l("qbdv"),le=l("3nar"),te=l("dt0z"),oe=l("QI4+"),ie=[],ae=T["\u0275crt"]({encapsulation:2,styles:ie,data:{}}),ue=T["\u0275ccf"]("fims-employee",W,o,{},{},[]),re=l("5LV6"),de=l("acF2"),ce=l("eKZL"),se=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var l in n)n.hasOwnProperty(l)&&(e[l]=n[l])};return function(n,l){function t(){this.constructor=n}e(n,l),n.prototype=null===l?Object.create(l):(t.prototype=l.prototype,new t)}}(),me={employees:Object(de.a)("Employee"),employeeForm:Object(ce.a)("Employee")},pe=Object(Y.a)(me),fe=function(e){return e.employees},ve=function(e){return e.employeeForm},he=Object(re.createSelector)(ve,ce.b),ye=Object(re.createSelector)(fe,de.e),ge=Object(re.createSelector)(fe,de.f),be=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return se(n,e),n}(J.b),Ce=l("WrjH"),Re=Object(Ce.a)("[Employee] Load"),Ee=Object(Ce.a)("[Employee] Select"),Fe=Object(Ce.a)("[Employee] Create"),Se=Object(Ce.a)("[Employee] Create Success"),Oe=Object(Ce.a)("[Employee] Create Fail"),we=Object(Ce.a)("[Employee] Update"),_e=Object(Ce.a)("[Employee] Update Success"),De=Object(Ce.a)("[Employee] Update Fail"),Ne=Object(Ce.a)("[Employee] Delete"),Ie=Object(Ce.a)("[Employee] Delete Success"),je=Object(Ce.a)("[Employee] Delete Fail"),qe=Object(Ce.a)("[Employee] Reset Form"),Te=function(){function e(e){this.payload=e,this.type=Re}return e}(),Le=function(){function e(e){this.payload=e,this.type=Ee}return e}(),Ae=(function(){function e(e){this.payload=e,this.type=Fe}}(),function(){function e(e){this.payload=e,this.type=Se}return e}()),Pe=function(){function e(e){this.payload=e,this.type=Oe}return e}(),Ve=(function(){function e(e){this.payload=e,this.type=we}}(),function(){function e(e){this.payload=e,this.type=_e}return e}()),Me=function(){function e(e){this.payload=e,this.type=De}return e}(),xe=(function(){function e(e){this.payload=e,this.type=Ne}}(),function(){function e(e){this.payload=e,this.type=Ie}return e}()),ke=function(){function e(e){this.payload=e,this.type=je}return e}(),Be=(function(){function e(){this.type=qe}}(),function(){function e(e,n,l){this.router=e,this.route=n,this.store=l,this.employeeFormData={user:{identifier:"",role:""},employee:{identifier:"",givenName:"",surname:"",contactDetails:[]}}}return e.prototype.ngOnInit=function(){var e=this;this.formStateSubscription=this.store.select(he).filter(function(e){return!!e}).subscribe(function(n){var l=e.formComponent.detailForm,t=l.get("identifier").errors||{};t.unique=!0,l.get("identifier").setErrors(t),e.formComponent.step.open()})},e.prototype.ngOnDestroy=function(){this.formStateSubscription.unsubscribe(),this.store.dispatch({type:qe})},e.prototype.onSave=function(e){var n=u(e),l=r(e);this.store.dispatch({type:Fe,payload:{employee:n,user:l,activatedRoute:this.route}})},e.prototype.onCancel=function(){this.navigateAway()},e.prototype.navigateAway=function(){this.router.navigate(["../"],{relativeTo:this.route})},e.ctorParameters=function(){return[{type:Z.l},{type:Z.a},{type:be}]},e}()),$e=l("8oXs"),Ge=l("j5BN"),Ue=l("GxUr"),He=l("Lpd/"),Ze=l("IctV"),Je=l("3txW"),Ye=l("jS74"),Ke=l("h3So"),We=l("g/qL"),Xe=l("T4dn"),Qe=l("TEKi"),ze=l("ThxV"),en=l("bm2B"),nn=l("3BTa"),ln=l("ZqjH"),tn=l("VhHh"),on=l("gptX"),an=l("6OSA"),un=l("EPfU"),rn=l("gOiy"),dn=l("4jwp"),cn=l("l6RC"),sn=l("SlD5"),mn=l("V8+5"),pn=l("wt2n"),fn=l("P/jf"),vn=l("weDt"),hn=l("ppyE"),yn=function(){function e(e,n){this.formBuilder=e,this.store=n,this.onSave=new T.EventEmitter,this.onCancel=new T.EventEmitter}return Object.defineProperty(e.prototype,"formData",{set:function(e){this.prepareDetailForm(e.employee,e.user),this.prepareOfficeForm(e.employee),this.prepareContactForm(e.employee.contactDetails)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.offices=this.store.select(Y.m).map(function(e){return e.offices}),this.roles=this.store.select(Y.r).map(function(e){return e.roles}),this.fetchRoles(),this.step.open()},e.prototype.prepareDetailForm=function(e,n){var l=[en.Validators.minLength(8)];this.editMode||l.push(en.Validators.required),this.detailForm=this.formBuilder.group({identifier:[e.identifier,[en.Validators.required,en.Validators.minLength(3),en.Validators.maxLength(32),fn.a.urlSafe]],firstName:[e.givenName,[en.Validators.required,en.Validators.maxLength(256)]],middleName:[e.middleName,en.Validators.maxLength(256)],lastName:[e.surname,[en.Validators.required,en.Validators.maxLength(256)]],password:["",l],role:[n?n.role:"",en.Validators.required]})},e.prototype.prepareOfficeForm=function(e){this.officeForm=this.formBuilder.group({assignedOffice:[e.assignedOffice]})},e.prototype.prepareContactForm=function(e){var n="",l="",t="",o=e.filter(function(e){return e.group===pn.a});o.length&&(n=this.getFirstItemByType(o,pn.d),l=this.getFirstItemByType(o,pn.c),t=this.getFirstItemByType(o,pn.b)),this.contactForm=this.formBuilder.group({email:[t,[en.Validators.maxLength(256),fn.a.email]],phone:[n,en.Validators.maxLength(256)],mobile:[l,en.Validators.maxLength(256)]})},e.prototype.getFirstItemByType=function(e,n){var l=e.filter(function(e){return e.type===n});return l.length?l[0].value:""},e.prototype.formsInvalid=function(){return!this.officeForm.pristine&&this.officeForm.invalid||!this.contactForm.pristine&&this.contactForm.invalid||this.detailForm.invalid},e.prototype.save=function(){this.onSave.emit({detailForm:this.detailForm.value,contactForm:this.contactForm.value,officeForm:this.officeForm.value})},e.prototype.cancel=function(){this.onCancel.emit()},e.prototype.searchOffice=function(e){var n={searchTerm:e};this.store.dispatch({type:vn.a,payload:n})},e.prototype.assignOffice=function(e){this.setFormValue(this.officeForm,{assignedOffice:e&&e.length>0?e[0]:void 0})},e.prototype.fetchRoles=function(){this.store.dispatch({type:hn.a})},e.prototype.setFormValue=function(e,n){e.setValue(n),e.markAsDirty()},e.ctorParameters=function(){return[{type:en.FormBuilder},{type:J.b}]},e}(),gn=l("JaJq"),bn=l("uc8a"),Cn=[],Rn=T["\u0275crt"]({encapsulation:2,styles:Cn,data:{}}),En=(T["\u0275ccf"]("fims-employee-form-component",yn,g,{editMode:"editMode",formData:"formData"},{onSave:"onSave",onCancel:"onCancel"},[]),[]),Fn=T["\u0275crt"]({encapsulation:2,styles:En,data:{}}),Sn=T["\u0275ccf"]("ng-component",Be,C,{},{},[]),On=l("bKpL"),wn=function(){function e(e,n,l){this.router=e,this.route=n,this.store=l}return e.prototype.ngOnInit=function(){this.formData=On.Observable.combineLatest(this.store.select(ge),this.route.data,function(e,n){return{user:n.user,employee:e}})},e.prototype.onSave=function(e){var n=u(e);this.store.dispatch({type:we,payload:{employee:n,contactDetails:a(e.contactForm),role:e.detailForm.role,password:e.detailForm.password,activatedRoute:this.route}})},e.prototype.onCancel=function(){this.navigateToOffice()},e.prototype.navigateToOffice=function(){this.router.navigate(["../"],{relativeTo:this.route})},e.ctorParameters=function(){return[{type:Z.l},{type:Z.a},{type:be}]},e}(),_n=[],Dn=T["\u0275crt"]({encapsulation:2,styles:_n,data:{}}),Nn=T["\u0275ccf"]("ng-component",wn,E,{},{},[]),In=l("wjk8"),jn=l("ghl+"),qn=l("8Xfy"),Tn=l("Bhux"),Ln=l("vgc3"),An=l("dYU3"),Pn=l("0EVt"),Vn=l("Htvr"),Mn=function(){function e(e,n,l,t){this.route=e,this.router=n,this.dialogService=l,this.store=t}return e.prototype.ngOnInit=function(){var e=this;this.actionsSubscription=this.route.params.map(function(e){return new Le(e.id)}).subscribe(this.store),this.employeeSubscription=this.store.select(ge).filter(function(e){return!!e}).subscribe(function(n){return e.employee=n}),this.route.data.subscribe(function(n){e.user=n.user})},e.prototype.ngOnDestroy=function(){this.actionsSubscription.unsubscribe(),this.employeeSubscription.unsubscribe()},e.prototype.searchEmployee=function(e){e&&this.goToOverviewPage(e)},e.prototype.confirmDeletion=function(){return this.dialogService.openConfirm({message:'Do you want to delete employee "'+this.employee.givenName+" "+this.employee.surname+'"?',title:"Confirm deletion",acceptButton:"DELETE EMPLOYEE"}).afterClosed()},e.prototype.deleteEmployee=function(){var e=this;this.confirmDeletion().filter(function(e){return e}).subscribe(function(){e.store.dispatch({type:Ne,payload:{employee:e.employee,activatedRoute:e.route}})})},e.prototype.goToOverviewPage=function(e){this.router.navigate(["../../"],{queryParams:{term:e},relativeTo:this.route})},e.ctorParameters=function(){return[{type:Z.a},{type:Z.l},{type:Vn.c},{type:be}]},e}(),xn=l("I6iT"),kn=l("rz8b"),Bn=[],$n=T["\u0275crt"]({encapsulation:2,styles:Bn,data:{}}),Gn=T["\u0275ccf"]("fims-employee-detail",Mn,q,{},{},[]),Un=l("L/za"),Hn=l("/SLZ"),Zn=l("fc+i"),Jn=l("ppgG"),Yn=l("OFGE"),Kn=l("jk5D"),Wn=l("CPp0"),Xn=l("CyBC"),Qn=l("w24y"),zn=l("1ini"),el=l("LT5m"),nl=l("5Ewt"),ll=l("BYzQ"),tl=l("Mbjt"),ol=function(){function e(e){this.identityService=e}return e.prototype.resolve=function(e){return this.identityService.getUser(e.params.id)},e.ctorParameters=function(){return[{type:tl.a}]},e}(),il=l("o8nE"),al=l("+zVg"),ul=l("hSIn"),rl=function(){function e(e,n,l){this.store=e,this.officeService=n,this.existsGuardService=l}return e.prototype.hasEmployeeInStore=function(e){var n=this.store.select(ye).map(function(n){return n[e]});return this.existsGuardService.isWithinExpiry(n)},e.prototype.hasEmployeeInApi=function(e){var n=this,l=this.officeService.getEmployee(e).map(function(e){return new Te({resource:e})}).do(function(e){return n.store.dispatch(e)}).map(function(e){return!!e});return this.existsGuardService.routeTo404OnError(l)},e.prototype.hasEmployee=function(e){var n=this;return this.hasEmployeeInStore(e).switchMap(function(l){return l?Object(al.of)(l):n.hasEmployeeInApi(e)})},e.prototype.canActivate=function(e,n){return this.hasEmployee(e.params.id)},e.ctorParameters=function(){return[{type:be},{type:il.a},{type:ul.a}]},e}(),dl=l("jYnq"),cl=l("0cZJ"),sl=l("CZgk"),ml=l("HfbW"),pl=l("0DUX"),fl=l("Hhy4"),vl=l("Ioj9"),hl=l("YXpL"),yl=l("e6Rn"),gl=l("9Qcf"),bl=l("QItG"),Cl=l("+jdj"),Rl=l("8i5e"),El=l("uwGy"),Fl=l("ymMb"),Sl=l("/vpO"),Ol=function(){function e(e){this.identifier=e}return e}(),wl=l("hdpf"),_l=this&&this.__decorate||function(e,n,l,t){var o,i=arguments.length,a=i<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,l):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,l,t);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(n,l,a):o(n,l))||a);return i>3&&a&&Object.defineProperty(n,l,a),a},Dl=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},Nl=function(){function e(e,n,l){var t=this;this.actions$=e,this.officeService=n,this.identityService=l,this.createEmployee$=this.actions$.ofType(Fe).map(function(e){return e.payload}).mergeMap(function(e){return t.identityService.createUser(e.user).mergeMap(function(){return t.officeService.createEmployee(e.employee)}).map(function(){return new Ae({resource:e.employee,activatedRoute:e.activatedRoute})}).catch(function(e){return Object(al.of)(new Pe(e))})}),this.updateEmployee$=this.actions$.ofType(we).map(function(e){return e.payload}).mergeMap(function(e){var n=e.employee,l=[];return l.push(t.officeService.updateEmployee(n)),e.contactDetails&&l.push(t.officeService.setContactDetails(n.identifier,e.contactDetails)),e.role&&l.push(t.identityService.changeUserRole(n.identifier,new Ol(e.role))),e.password&&l.push(t.identityService.changePassword(n.identifier,new wl.a(e.password))),On.Observable.forkJoin(l).map(function(){return new Ve({resource:e.employee,activatedRoute:e.activatedRoute})}).catch(function(e){return Object(al.of)(new Me(e))})}),this.deleteEmployee$=this.actions$.ofType(Ne).map(function(e){return e.payload}).mergeMap(function(e){return On.Observable.forkJoin(t.officeService.deleteEmployee(e.employee.identifier),t.identityService.changeUserRole(e.employee.identifier,new Ol("deactivated"))).map(function(){return new xe({resource:e.employee,activatedRoute:e.activatedRoute})}).catch(function(e){return Object(al.of)(new ke(e))})})}return e.ctorParameters=function(){return[{type:Sl.a},{type:il.a},{type:tl.a}]},e}();_l([Object(Sl.b)(),Dl("design:type","function"==typeof(Il=void 0!==On.Observable&&On.Observable)&&Il||Object)],Nl.prototype,"createEmployee$",void 0),_l([Object(Sl.b)(),Dl("design:type","function"==typeof(jl=void 0!==On.Observable&&On.Observable)&&jl||Object)],Nl.prototype,"updateEmployee$",void 0),_l([Object(Sl.b)(),Dl("design:type","function"==typeof(ql=void 0!==On.Observable&&On.Observable)&&ql||Object)],Nl.prototype,"deleteEmployee$",void 0);var Il,jl,ql,Tl=this&&this.__decorate||function(e,n,l,t){var o,i=arguments.length,a=i<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,l):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,l,t);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(n,l,a):o(n,l))||a);return i>3&&a&&Object.defineProperty(n,l,a),a},Ll=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},Al=function(){function e(e,n){var l=this;this.actions$=e,this.router=n,this.createEmployeeSuccess$=this.actions$.ofType(Se,_e).map(function(e){return e.payload}).do(function(e){return l.router.navigate(["../"],{relativeTo:e.activatedRoute})}),this.deleteEmployeeSuccess$=this.actions$.ofType(Ie).map(function(e){return e.payload}).do(function(e){return l.router.navigate(["../../"],{relativeTo:e.activatedRoute})})}return e.ctorParameters=function(){return[{type:Sl.a},{type:Z.l}]},e}();Tl([Object(Sl.b)({dispatch:!1}),Ll("design:type","function"==typeof(Pl=void 0!==On.Observable&&On.Observable)&&Pl||Object)],Al.prototype,"createEmployeeSuccess$",void 0),Tl([Object(Sl.b)({dispatch:!1}),Ll("design:type","function"==typeof(Vl=void 0!==On.Observable&&On.Observable)&&Vl||Object)],Al.prototype,"deleteEmployeeSuccess$",void 0);var Pl,Vl,Ml=l("BaWn"),xl=this&&this.__decorate||function(e,n,l,t){var o,i=arguments.length,a=i<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,l):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,l,t);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(n,l,a):o(n,l))||a);return i>3&&a&&Object.defineProperty(n,l,a),a},kl=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},Bl=function(){function e(e,n){var l=this;this.actions$=e,this.notificationService=n,this.createEmployeeSuccess$=this.actions$.ofType(Se,_e).do(function(){return l.notificationService.send({type:Ml.b.MESSAGE,message:"Employee is going to be saved"})}),this.deleteEmployeeSuccess$=this.actions$.ofType(Ie).do(function(){return l.notificationService.send({type:Ml.b.MESSAGE,message:"Employee is going to be deleted"})})}return e.ctorParameters=function(){return[{type:Sl.a},{type:Ml.a}]},e}();xl([Object(Sl.b)({dispatch:!1}),kl("design:type","function"==typeof($l=void 0!==On.Observable&&On.Observable)&&$l||Object)],Bl.prototype,"createEmployeeSuccess$",void 0),xl([Object(Sl.b)({dispatch:!1}),kl("design:type","function"==typeof(Gl=void 0!==On.Observable&&On.Observable)&&Gl||Object)],Bl.prototype,"deleteEmployeeSuccess$",void 0);var $l,Gl,Ul=l("Wgxb");l.d(n,"EmployeeModuleNgFactory",function(){return Hl});var Hl=T["\u0275cmf"](L,[],function(e){return T["\u0275mod"]([T["\u0275mpd"](512,T.ComponentFactoryResolver,T["\u0275CodegenComponentFactoryResolver"],[[8,[A.a,P.a,V.a,M.a,x.a,k.a,k.b,B.a,ue,Sn,Nn,Gn]],[3,T.ComponentFactoryResolver],T.NgModuleRef]),T["\u0275mpd"](4608,ne.o,ne.n,[T.LOCALE_ID]),T["\u0275mpd"](4608,en["\u0275i"],en["\u0275i"],[]),T["\u0275mpd"](4608,Un.a,Un.a,[Z.l]),T["\u0275mpd"](4608,Hn.a,Hn.a,[]),T["\u0275mpd"](6144,cn.b,null,[Zn.b]),T["\u0275mpd"](4608,cn.d,cn.d,[[2,cn.b]]),T["\u0275mpd"](4608,mn.a,mn.a,[]),T["\u0275mpd"](4608,Jn.a,Jn.a,[]),T["\u0275mpd"](4608,qn.l,qn.l,[mn.a]),T["\u0275mpd"](4608,qn.k,qn.k,[qn.l,mn.a,T.NgZone]),T["\u0275mpd"](136192,qn.e,qn.c,[[3,qn.e],mn.a]),T["\u0275mpd"](5120,qn.p,qn.o,[[3,qn.p],[2,qn.m],mn.a]),T["\u0275mpd"](5120,qn.i,qn.g,[[3,qn.i],T.NgZone,mn.a]),T["\u0275mpd"](5120,dn.c,dn.a,[[3,dn.c],T.NgZone,mn.a]),T["\u0275mpd"](5120,dn.g,dn.f,[[3,dn.g],mn.a,T.NgZone,dn.c]),T["\u0275mpd"](4608,Yn.g,Yn.g,[dn.c,dn.g]),T["\u0275mpd"](5120,Yn.d,Yn.j,[[3,Yn.d]]),T["\u0275mpd"](4608,Yn.m,Yn.m,[dn.g]),T["\u0275mpd"](4608,Yn.b,Yn.b,[Yn.g,Yn.d,T.ComponentFactoryResolver,Yn.m,T.ApplicationRef,T.Injector,T.NgZone]),T["\u0275mpd"](5120,Yn.k,Yn.l,[Yn.b]),T["\u0275mpd"](5120,Kn.a,Kn.b,[Yn.b]),T["\u0275mpd"](5120,Ln.d,Ln.a,[[3,Ln.d],[2,Wn.e],Zn.c]),T["\u0275mpd"](5120,Xn.c,Xn.b,[[3,Xn.c]]),T["\u0275mpd"](5120,Qn.b,Qn.c,[Yn.b]),T["\u0275mpd"](4608,Qn.d,Qn.d,[Yn.b,T.Injector,[2,ne.i],Qn.b,[3,Qn.d]]),T["\u0275mpd"](4608,Ge.e,Ge.e,[]),T["\u0275mpd"](5120,kn.c,kn.b,[[3,kn.c],Qn.d]),T["\u0275mpd"](5120,zn.a,zn.b,[Yn.b]),T["\u0275mpd"](5120,rn.a,rn.b,[Yn.b]),T["\u0275mpd"](4608,el.b,el.b,[Yn.b,qn.p,T.Injector,[3,el.b]]),T["\u0275mpd"](4608,en.FormBuilder,en.FormBuilder,[]),T["\u0275mpd"](5120,T.APP_BOOTSTRAP_LISTENER,function(e,n){return[nl.b(e,n)]},[T.Injector,ll.a]),T["\u0275mpd"](4608,ol,ol,[tl.a]),T["\u0275mpd"](5120,be,d,[oe.a]),T["\u0275mpd"](4608,rl,rl,[be,il.a,ul.a]),T["\u0275mpd"](512,Z.p,Z.p,[[2,Z.v],[2,Z.l]]),T["\u0275mpd"](512,ne.c,ne.c,[]),T["\u0275mpd"](512,en["\u0275ba"],en["\u0275ba"],[]),T["\u0275mpd"](512,en.FormsModule,en.FormsModule,[]),T["\u0275mpd"](512,dl.a,dl.a,[]),T["\u0275mpd"](512,Ge.c,Ge.c,[]),T["\u0275mpd"](512,cn.a,cn.a,[]),T["\u0275mpd"](256,Ge.g,!0,[]),T["\u0275mpd"](512,Ge.m,Ge.m,[[2,Ge.g]]),T["\u0275mpd"](512,mn.b,mn.b,[]),T["\u0275mpd"](512,Ge.y,Ge.y,[]),T["\u0275mpd"](512,Jn.c,Jn.c,[]),T["\u0275mpd"](512,qn.a,qn.a,[]),T["\u0275mpd"](512,cl.b,cl.b,[]),T["\u0275mpd"](512,sl.f,sl.f,[]),T["\u0275mpd"](512,dn.b,dn.b,[]),T["\u0275mpd"](512,Yn.e,Yn.e,[]),T["\u0275mpd"](512,Kn.d,Kn.d,[]),T["\u0275mpd"](512,Ln.c,Ln.c,[]),T["\u0275mpd"](512,Ge.w,Ge.w,[]),T["\u0275mpd"](512,ml.a,ml.a,[]),T["\u0275mpd"](512,Qn.g,Qn.g,[]),T["\u0275mpd"](512,He.d,He.d,[]),T["\u0275mpd"](512,sn.b,sn.b,[]),T["\u0275mpd"](512,jn.d,jn.d,[]),T["\u0275mpd"](512,pl.a,pl.a,[]),T["\u0275mpd"](512,fl.a,fl.a,[]),T["\u0275mpd"](512,Ge.t,Ge.t,[]),T["\u0275mpd"](512,zn.d,zn.d,[]),T["\u0275mpd"](512,vl.e,vl.e,[]),T["\u0275mpd"](512,Ge.o,Ge.o,[]),T["\u0275mpd"](512,An.h,An.h,[]),T["\u0275mpd"](512,rn.d,rn.d,[]),T["\u0275mpd"](512,el.e,el.e,[]),T["\u0275mpd"](512,hl.b,hl.b,[]),T["\u0275mpd"](512,en.ReactiveFormsModule,en.ReactiveFormsModule,[]),T["\u0275mpd"](512,yl.TextMaskModule,yl.TextMaskModule,[]),T["\u0275mpd"](512,gl.a,gl.a,[]),T["\u0275mpd"](512,bl.a,bl.a,[]),T["\u0275mpd"](512,Cl.a,Cl.a,[]),T["\u0275mpd"](512,Rl.a,Rl.a,[]),T["\u0275mpd"](512,El.a,El.a,[Fl.a]),T["\u0275mpd"](512,Nl,Nl,[El.a,il.a,tl.a]),T["\u0275mpd"](512,Al,Al,[El.a,Z.l]),T["\u0275mpd"](512,Bl,Bl,[El.a,Ml.a]),T["\u0275mpd"](1024,ll.b,function(e,n,l){return[e,n,l]},[Nl,Al,Bl]),T["\u0275mpd"](131584,ll.a,ll.a,[oe.a,[3,ll.a],[2,ll.b]]),T["\u0275mpd"](512,Ul.a,Ul.a,[ll.a]),T["\u0275mpd"](512,L,L,[]),T["\u0275mpd"](1024,Z.j,function(){return[[{path:"",component:W,data:{title:"Manage Employees",hasPermission:{id:"office_employees",accessLevel:"READ"}}},{path:"create",component:Be,data:{title:"Create Employee",hasPermission:{id:"office_employees",accessLevel:"CHANGE"}}},{path:"detail/:id/edit",component:wn,canActivate:[rl],resolve:{user:ol},data:{title:"Edit Employee",hasPermission:{id:"office_employees",accessLevel:"CHANGE"}}},{path:"detail/:id",component:Mn,canActivate:[rl],resolve:{user:ol},data:{title:"View Employee",hasPermission:{id:"office_employees",accessLevel:"READ"}}}]]},[])])})}});